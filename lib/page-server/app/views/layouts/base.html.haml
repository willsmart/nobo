%html{:lang => "en", :prefix => "og: http://ogp.me/ns#"}

  %head

    %meta{:charset => "utf-8"}/
    %title= content_for?(:title) ? yield(:title) : ""
    /need to set the default scale or else the view shrinks
    %meta{name: "viewport", content: "width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"}
    %meta{name: "apple-mobile-web-app-capable", content: "yes"}
    %meta{description: t('meta.description') }
    %meta{keywords: t('meta.keywords')}
    = csrf_meta_tag
    = stylesheet_link_tag "application", media: "all"
    = yield(:head)

    %link{:href => image_path("favicon.png"), :rel => "shortcut icon", :type => "image/png"}
    %link{:href => image_path("iphone-icon.png"), :rel => "apple-touch-icon", :sizes => "57x57"}
    %link{:href => image_path("ipad-icon.png"), :rel => "apple-touch-icon", :sizes => "72x72"}/
    %link{:href => image_path("iphone-icon@2x.png"), :rel => "apple-touch-icon", :sizes => "114x114"}
    /%link{href: 'https://fonts.googleapis.com/css?family=Inconsolata', rel:'stylesheet', type:'text/css'}

    = yield :scripts

    /[if IE 8]
      = stylesheet_link_tag "ie8"

    :javascript
      var is_ssl = ("https:" == document.location.protocol);

  %body{class: @body_class}
    = yield(:sublayout_content)

    .models-container
      .models.d-flex.justify-content-center
        .__childOf_type-root__marker-page.__childOf_type-root__marker-page_collection-1.__childOf_type-root__marker-page_placeholder{"__collectionindex"=>1, "model_as_parent"=>1}

    %script
      = raw(render formats: ['js'], file: 'public/rules')
      = raw(render formats: ['js'], file: 'public/models')

    = javascript_include_tag "application"

    = render :template => 'layouts/render'